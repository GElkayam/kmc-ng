<div class="kUploadMonitorSection">
  <div class="kUploadMonitorSectionHeading">
    <span class="kUploadMonitorSectionHeadingTitle">{{ title }}</span>

    <!--TODO [kmcng] cleanup after implement all sections -->
    <a *ngIf="!detailsLink" class="kUploadMonitorSectionHeadingDetails" (click)="uploadMonitorPopup.close()">
      {{ 'applications.upload.uploadMonitor.viewDetails' | translate }}
    </a>

    <a *ngIf="detailsLink"
       [routerLink]="detailsLink"
       class="kUploadMonitorSectionHeadingDetails"
       (click)="uploadMonitorPopup.close()">
      {{ 'applications.upload.uploadMonitor.viewDetails' | translate }}
    </a>
  </div>
  <div class="kUploadMonitorSectionContent">
    <div *ngIf="!bulkErrors?.poll && !bulkErrors?.prepare; else bulkErrorsContent">
      <span *ngIf="!_isUpToDate">
        <span class="kUploadMonitorStatus" *ngIf="uploading !== 0">
          <i class="kIconrefresh_small kUploadMonitorStatusIcon uploading"></i>
          {{ _uploadingTitle | translate:{'0': uploading} }}
        </span>
        <span class="kUploadMonitorStatus" *ngIf="queued !== 0">
          <i class="kIconcheck_small kUploadMonitorStatusIcon queued"></i>
          {{ 'applications.upload.uploadMonitor.queued' | translate:{'0': queued} }}
        </span>
        <span class="kUploadMonitorStatus" *ngIf="completed !== 0">
          <i class="kIconcheck_small kUploadMonitorStatusIcon completed"></i>
          {{ 'applications.upload.uploadMonitor.completed' | translate:{'0': completed} }}
        </span>
        <span class="kUploadMonitorStatus" *ngIf="errors !== 0">
          <i class="kIconerror kUploadMonitorStatusIcon error"></i>
          {{ 'applications.upload.uploadMonitor.error' | translate:{'0': errors} }}
        </span>
      </span>
      <span *ngIf="_isUpToDate">
        <span class="kUploadMonitorStatus">
          <i class="kIconcheck_small kUploadMonitorStatusIcon completed"></i>
          {{ 'applications.upload.uploadMonitor.upToDate' | translate }}
        </span>
      </span>
    </div>
    <ng-template #bulkErrorsContent>
      <span *ngIf="bulkErrors?.poll">
        {{ 'applications.upload.uploadMonitor.bulkErrors.poll' | translate }}
      </span>
      <span *ngIf="bulkErrors?.prepare">
        {{ 'applications.upload.uploadMonitor.bulkErrors.prepare' | translate }}
        <a (click)="onBulkTryReconnect.emit()">{{ 'app.common.retry' | translate }}</a>
      </span>
    </ng-template>
  </div>
</div>
